<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activate Chatbot Example</title>
    <style>
        #activate-chatbot {
            position: fixed;
            top: 10px;
            right: 10px;
            width: 50px;
            height: 50px;
            cursor: pointer;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <h1>Test Page</h1>
    <!-- Flag icon to activate the chatbot -->
    <img src="https://image.similarpng.com/very-thumbnail/2020/06/United-Kingdom-flag-icon-on-transparent-background-PNG.png" 
         alt="Activate Chatbot" 
         id="activate-chatbot">

    <script type="text/javascript">
        // Load the Web Chat widget
        (function(d, t) {
            var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
            v.onload = function() {
                window.voiceflow.chat.load({
                    verify: { projectID: '66a0c7c261762753caa83435' },
                    url: 'https://general-runtime.voiceflow.com',
                    versionID: 'production'
                });
            }
            v.src = "https://cdn.voiceflow.com/widget/bundle.mjs"; 
            v.type = "text/javascript"; 
            s.parentNode.insertBefore(v, s);
        })(document, 'script');

        // Add click event listener to activate the chatbot
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById('activate-chatbot').addEventListener('click', function() {
                window.voiceflow.chat.open().then(() => {
                    // Delay the interaction to ensure the chat window is fully open
                    setTimeout(() => {
                        window.voiceflow.chat.interact({
                            type: "block",
                            payload: {
                                intent: { name: "english block" } // Replace with the actual intent name or block ID
                            }
                        });
                    }, 1000); // Adjust the delay as necessary
                });
            });
        });
    </script>
</body>
</html>
